aws_config:
  region: "us-east-1"

ami_config:
  id: "ami-0360c520857e3138f"

ssh_config:
  key_name: "k8s-pipeline-key"
  allowed_cidr:
    - "0.0.0.0/0"

instance_types:
  master: "t3.medium"
  worker: "t3.medium"
  monitoring: "t3.medium"

project_config:
  name: "ultimate-cicd-devops"
  environment: "dev"

feature_flags:
  enable_monitoring_instance: true
  enable_tools_instance: true
  enable_worker_2: false

remote_state:
  vpc:
    bucket: "charlie-dev12212025"
    key: "vpc/state.tfstate"
    region: "us-east-1"

oidc_providers:
  - name: "gha-ultimate-pipeline"
    github_org: "temitayocharles"
    github_repo: "ultimate-pipeline"
    audiences:
      - "sts.amazonaws.com"

modules:
  jenkins_sg: true
  k8s_master_sg: true
  k8s_worker_sg: true
  tools_sg: true
  monitoring_sg: true
  jenkins_k8s_master: true
  k8s_worker_1: true
  k8s_worker_2: true
  nexus_sonarqube: true
  monitoring: true
  ecs_fargate: false
  eks_practice: false
  ecs_fargate_config:
  vpc: false
  kms_secrets_config:
  alb: false
  autoscaling_config:
  rds: false
  iam_config:
  kms_secrets: false
  eks_practice_config:
  route53_acm: false
  rds_config:
  observability_config:
  ecs_image: "nginx:stable-alpine"
  efs_config:
  ecs_memory: 512
  ecr_config:
  alb_config:
  eks_version: "1.27"
  vpc_config:
  iam_names:
    s3_config:
    jenkins_profile_name: "ultimate-cicd-devops-jenkins-profile"
    route53_acm_config:
      github_org: "temitayocharles"
      github_repo: "ultimate-pipeline"
      audiences:
        - "sts.amazonaws.com"

iam_config:
  project_config:
    name: "ultimate-cicd-devops"
    environment: "dev"
  enable_instance_profiles: true
  names:
    jenkins_role_name: "ultimate-cicd-devops-jenkins-role"
    jenkins_profile_name: "ultimate-cicd-devops-jenkins-profile"

vpc_config:
  enabled: false
  project_config:
    name: "ultimate-cicd-devops"
    environment: "dev"
  cidr: "10.0.0.0/16"

ecr_config:
  enabled: false
  name: "ultimate-cicd-devops-ecr"

alb_config:
  enabled: false
  name: "ultimate-cicd-devops-alb"
  subnet_ids: []
  security_group_ids: []

autoscaling_config:
  enabled: false
  name: "ultimate-cicd-devops-asg"
  ami: "ami-0360c520857e3138f"
  instance_type: "t3.medium"
  subnet_ids: []
  target_group_arns: []

rds_config:
  enabled: false
  engine: "postgres"
  engine_version: "13"
  subnet_ids: []
  vpc_id: ""
  rotation_lambda_arn: ""
  db_name: "appdb"
  username: "dbuser"
  password: "changeme"

rotation_lambda_config:
  enabled: false
  name: "ultimate-cicd-devops-rds-rotation"

s3_config:
  enabled: false
  bucket_name: "ultimate-cicd-devops-dev-bucket"
  versioning: false
  acl: "private"
  force_destroy: false

kms_secrets_config:
  enabled: false
  name: "ultimate-cicd-devops-kms"

observability_config:
  enabled: false
  log_group_prefix: "ultimate-cicd-devops"

route53_acm_config:
  enabled: false
  domain_name: ""
  hosted_zone_id: ""

efs_config:
  enabled: false
  subnet_ids: []

ecs_fargate_config:
  enabled: false
  name: "ultimate-cicd-devops-ecs"
  subnet_ids: []
  security_group_ids: []
  container_image: "nginx:stable-alpine"
  cpu: 256
  memory: 512
  desired_count: 1

eks_practice_config:
  enabled: false
  name: "ultimate-cicd-devops-eks"
  subnet_ids: []

ec2_instance_config:
  instance_count: 1
  ami: "ami-0360c520857e3138f"
  instance_type: "t3.medium"
  key_name: "k8s-pipeline-key"
  subnet_id: ""
  vpc_security_group_ids: []
  iam_instance_profile: ""
  root_block_device:
    volume_size: 20
    volume_type: "gp3"
  user_data: ""
  tags:
    Name: "ultimate-cicd-devops-instance"

ec2_cluster_config:
  enabled: true
  master_count: 1
  worker_count: 2
  ami: "ami-0360c520857e3138f"
  master_instance_type: "t3.medium"
  worker_instance_type: "t3.medium"
  key_name: "k8s-pipeline-key"
  subnet_id: ""
  vpc_security_group_ids: []
  iam_instance_profile: "ultimate-cicd-devops-profile"
  master_user_data: "${file(../scripts/jenkins-k8s-master-setup.sh)}"
  worker_user_data: "${file(../scripts/k8s-worker-setup.sh)}"
  tags:
    Project: "ultimate-cicd-devops"
    Environment: "dev"

sg_dynamic_example:
  vpc_id: ""
  create_before_destroy: false
  config:
    security_group_name: ""
    security_group_description: ""
    tags: {}
    allow_all: false
    inbound_rules: []
    outbound_rules: []
